<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
	<!-- OGNL可以使用静态方法 -->
	<constant name="struts.ognl.allowStaticMethodAccess" value="true" />
	
<package name="default" extends="struts-default">


		<!-- 配置拦截器 -->
		<interceptors>
			<!-- 验证用户登录的拦截器 -->
			<interceptor name="loginInterceptor" class="com.ych.action.interceptor.TeacherLoginInteceptor"/>
			<interceptor-stack name="teacherDefaultStack">
				<interceptor-ref name="loginInterceptor"/>
    			<interceptor-ref name="defaultStack"/>
			</interceptor-stack>
		</interceptors>

 		 <global-results>
             <result name="login">/login.jsp</result>
       	  </global-results>
       	  <global-exception-mappings>
		<exception-mapping result="error"
				exception="com.ych.util.AppException">
		</exception-mapping>
		</global-exception-mappings>
		

       	  
		 <!-- studentAction -->
       	  <action name="loginAPI" class="com.ych.action.student.StudentAction" method="loginAPI">
<!--          <result name="success">/main.jsp</result>
             <result name="error">/login.jsp</result> -->
         </action>
         
           <action name="addStudentAPI" class="com.ych.action.student.StudentAction" method="addStudentAPI">
<!--          <result name="success">/main.jsp</result>
             <result name="error">/login.jsp</result> -->
         </action>
         
         <action name="deleteStudentAPI" class="com.ych.action.student.StudentAction" method="deleteStudentAPI">
         </action>
        
         <action name="getOneStudentAPI" class="com.ych.action.student.StudentAction" method="getOneStudentAPI">
         </action>
        
         <action name="getCourseStudentAPI" class="com.ych.action.student.StudentAction" method="getCourseStudentAPI">
         </action> 
         
         <action name="getAllStudentAPI" class="com.ych.action.student.StudentAction" method="getAllStudentAPI">
         </action> 
         
       	 <action name="updateStudentAPI" class="com.ych.action.student.StudentAction" method="updateStudentAPI">
         </action>   
         
       	 <action name="getOneGradeAPI" class="com.ych.action.grade.GradeAction" method="getOneGradeAPI">
         </action> 
         
        <action name="getAllGradeAPI" class="com.ych.action.grade.GradeAction" method="getAllGradeAPI">
         </action>   
         
       	<action name="addGradeAPI" class="com.ych.action.grade.GradeAction" method="addGradeAPI">
        </action>  
         
     <!--   	<action name="login" class="com.ych.action.grade.GradeAction" method="addGradeAPI">
        </action>  --> 
        <!-- 后台使用 -->
        <action name="studentInfo" class="com.ych.action.student.StudentAction" >
       	<result name="success">/studentInfo.jsp</result>    
       	<result name="error">/index.jsp</result>   	
        </action>  
        <action name="getOneStudent" class="com.ych.action.student.StudentAction" >
       	<result name="success">/studentInfo.jsp</result>    
       	<result name="error">/index.jsp</result>   	
        </action>  
        <action name="loginteacher" class="com.ych.action.login.LoginAction" method="login">
       	<result name="success">/WEB-INF/pages/index.jsp</result>  
       	<result name="validateErr">/WEB-INF/pages/login.jsp</result>
       	<result name="loginerror">/WEB-INF/pages/login.jsp</result>   	
        </action>  
        
        <action name="personal" class="com.ych.action.teacher.TeacherAction" method="teacherMessage">
       	<result name="success">/WEB-INF/pages/personal.jsp</result>  
       	<result name="error">/WEB-INF/pages/login.jsp</result> 
        </action>  
        
         <action name="updateTeacherMessage" class="com.ych.action.teacher.TeacherAction" method="updateTeacherMessage">
       	<result name="success">/WEB-INF/pages/personal.jsp</result>  
       	<result name="error">/WEB-INF/pages/login.jsp</result> 
       	  <result name="input">/WEB-INF/pages/personal.jsp</result>
        </action>  
        
<!--         <action name="updateTeacher" class="com.ych.action.teacher.TeacherAction" method="updateTeacher">
       	<result name="success">/WEB-INF/pages/index.jsp</result>  
       	<result name="error">/WEB-INF/pages/login.jsp</result> 
        </action>   -->
         
 </package>
</struts>    
